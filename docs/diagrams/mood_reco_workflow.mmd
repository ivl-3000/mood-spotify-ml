flowchart LR
  %% Ingestion
  SPOT[Spotify Metadata] --> RAW[Raw Zone]
  LYR[Lyrics Dataset] --> RAW
  SOC[Social Sentiment Aggregates] --> RAW

  %% Processing
  RAW --> CLEAN[Clean & Normalize]
  CLEAN --> SQL[SQLite/Postgres]

  %% NLP
  SQL --> NLP[Sentiment and Emotion\nTransformers]
  NLP --> MOOD[Track/Playlist Mood Features]

  %% Features
  SQL --> FEATS[Feature Engineering\nAudio/Lyrics/Interactions]
  FEATS --> REPRS[User/Item Representations]

  %% Modeling
  REPRS --> BASE[Baseline Recommender\nCF/Content]
  MOOD --> RERANK[Mood-Aware Re-Ranker]
  BASE --> RERANK

  %% Serving
  RERANK --> PRED[Predictions Store]
  PRED --> DASH[Power BI Dashboard]
  RERANK --> NB[Batch Notebook/API]
